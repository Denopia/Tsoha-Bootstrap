{% extends "base.html" %}
{% block content %}
{% if message %}
<div class="alert alert-success">
    {{message}}
</div>
{% endif %}
<h1>{{ability.ability_name}}</h1>
{% if user_logged_in.admini %}
<a href="{{base_path}}/ability/{{ability.ability_name}}/edit" class="btn btn-primary">Edit</a>
<form method="post" action="{{base_path}}/ability/{{ability.ability_name}}/delete" style="display: inline-block;">
    <button type="submit" class="btn btn-danger">Delete</button>
</form>
{% endif %}

<h3>Description:</h3>
<p>{{ability.description}}</p>

<h3>Pok√©mon with {{ability.ability_name}}:</h3>
<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <th>Number</th>
            <th>Species</th>
            <th>Type</th>
            <th>Abilities   </th>
            <th>Base Hp</th>
            <th>Base Attack</th>
            <th>Base Defense</th>
            <th>Base Sp.Attack</th>
            <th>Base Sp.Defense</th>
            <th>Base Speed</th>
            {% if user_logged_in %}
            <th>Add to your guys</th>
            {% endif %}
            {% if user_logged_in.admini %}
            <th>Edit</th>
            <th>Delete</th>
            {% endif %}
        </tr>
    </thead>

    <tbody>
        {% for species in allSpecies %}
        <tr>
            <td>#{{species.pokedex_number}}</td>
            <td><a href="{{base_path}}/species/{{species.pokedex_number}}">{{species.species_name}}</td>
            <td>{% for type in species.types %}{{type}}<br>{% endfor %}</td>
            <td>{% for ability in species.abilities %}<a href="{{base_path}}/ability/{{ability.ability_name}}">{{ability.ability_name}}</a><br> {% endfor %}</td>
            <td>{{species.base_hp}}</td>
            <td>{{species.base_attack}}</td>
            <td>{{species.base_defense}}</td>
            <td>{{species.base_special_attack}}</td>
            <td>{{species.base_special_defense}}</td>
            <td>{{species.base_speed}}</td>
            {% if user_logged_in %}
            <td><a class="btn btn-success" href="{{base_path}}/pokemon/new/{{species.pokedex_number}}">Add</a></td>
            {% endif %}
            {% if user_logged_in.admini %}
            <td><a href="{{base_path}}/species/{{species.pokedex_number}}/edit" class="btn btn-primary">Edit</a></td>
            <td><a href="{{base_path}}/species/{{species.pokedex_number}}/delete" class="btn btn-danger">Delete</a></td>
            {% endif %}
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}